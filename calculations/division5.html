<html>
  <head>
    <meta charset="UTF-8"> <! --- To establish proper website layout and properties--->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 5: Division</title> <! --- prints title --->
      <link rel="stylesheet" href="../../../css/calculations.css"> <! --- need to add ../ to access files before this one --->

  </head>

  <body>
     <div class="centered"> <! --- div class from css for back button --->
      <a href="https://beeonesmartie-minutemath.github.io/grade/grade5"> <! --- links to previous page --->
         <img alt="Qries" src="https://www.freeiconspng.com/uploads/back-undo-return-button-png-13.png" 
         width=120" height="55">                 
      </a><! --- image picture link and specifies height, ends link for image --->
     </div>   
    <section>
      <br>
      <br>
      <br>
      <br>
      <br>
      <div class="rectangle">
        <h1> Grade 5: Division </h1> <! --- prints header --->
     </div>
                  
      <br>
      <br>
      <br>
      <br>                      
      <p id="feedback"></p>  <! --- gives p an id to call on --->
      <div id="question" class="rectangle2">  <! --- creates div with class from css and an id --->    
      <script>
            var x = (Math.floor(Math.random() * 19))+1;//random numbers
            var y = x*(Math.floor(Math.random() * 19)+1);
            var a = y / x;//answer is equal to y divided by x
            var count=0;//counts # of correct answers                                               
            question.textContent ="What is the answer to: " + y + " รท " + x + "?"                             
      </script> 
      </div>
        <br>
       <br> 
        
<div id="answerdiv" class="rectangle3"> <! --- create div using class from css --->
     <form id="form"><! --- form to get and submit user input --->
         <label id="label" for="quantity">Please type your Answer:</label> <! --- Creates a label with an id to print text in div --->
         <input type="number" id="quantity" name="quantity" min="0" max="100000" > <! --- able to get input from user that is a number with the specified restrictions --->
        <button id="submit" type="reset" onclick="check ()" class="button" >Submit</button> <! --- creates a button with class from css and calls function check when clicked --->             
                                                                          </form> <! --- submit button type reset will clear input fields after submitting --->      
      <script> //starts javascript code
              var input1 = document.getElementById("quantity");  //gets and stores user input                                                                                         
              input1.addEventListener("keypress", function(event) //add a listener
              {
                if (event.key === "Enter") //will allow pressing enter to do the same thing as clicking submit
                {
                  event.preventDefault()                   
                  document.getElementById("submit").click();                                 
                }
              });       
          </script>                                        
            
       </div>
          <br>                                  
                                 
            <script> 
              function ace()//method that will be called when submit is pressed to check anwer
              {                 
                 var r = document.getElementById("quantity").value;//answer input variable
                   if (a==r)
                   {//if answer == answer input, display correct, add one to the count, and if the count is still less than 10 generate a new question, otherwise congratulate them
                      feedback.textContent = "CORRECT"
                      count=count+1;  
                      if (count<10)//if not all 10 questions are completed
                          {//gives user another question
                               x = (Math.floor(Math.random() * 19))+1;
                               y = x*(Math.floor(Math.random() * 19)+1);
                               a = y / x;                                              
                               question.textContent ="What is the answer to: " + y + " รท " + x + "?"                                     
                           }                                         
                      else if (count==10)//if 10 questions are completed, show the time and hide input field
                        {                                                           
                        stoptime=true;
                        question.textContent ="Congrats! You solved 10 questions. Your time is " +hr + ":" + min + ":" + sec +". Please screen shot this page and email it to beeonesmartiemath@gmail.com"
                        feedback.textContent =" "  
                        document.getElementById("submit").style.visibility = "hidden"; 
                        document.getElementById("label").style.visibility = "hidden";   
                        document.getElementById("quantity").style.visibility = "hidden";
                         document.getElementById("answerdiv").style.visibility = "hidden";                                                                
                        }                                                            
                    }
                   else 
                     {//if answer doesn't == answer input, display wrong, with the same question remaining for them to eventually solve
                       feedback.textContent = "WRONG"
                     }                                                       
              }                      
             </script>                                  
    </section>
                       
    <style>
#stopwatch {
    font-size: 20px;
    color: #fbe565;
    position: absolute;
    top: 5%;
    left: 95%;
    transform: translate(-50%, -55%);
}                                                                           </style>                                                                      
                                                                          
    <html>      <! --- code for timer was found on the internet--->                                                                   
         <div id="stopwatch">
            00:00:00
        </div>                                                       
                                              </html>
       <script>
const timer = document.getElementById('stopwatch');
//setting for timer to start at 0 and then begins when method is called
var hr = 0;
var min = 0;
var sec = 0;
var stoptime = false;
timerCycle();                                              

function timerCycle() {//method to run the timer
    if (stoptime == false) {
    sec = parseInt(sec);
    min = parseInt(min);
    hr = parseInt(hr);

    sec = sec + 1;

    if (sec == 60) {
      min = min + 1;
      sec = 0;
    }
    if (min == 60) {
      hr = hr + 1;
      min = 0;
      sec = 0;
    }

    if (sec < 10 || sec == 0) {
      sec = '0' + sec;
    }
    if (min < 10 || min == 0) {
      min = '0' + min;
    }
    if (hr < 10 || hr == 0) {
      hr = '0' + hr;
    }

    timer.innerHTML = hr + ':' + min + ':' + sec;//prints the timer to page

    setTimeout("timerCycle()", 1000);//will stop when this much time has passed 
  }
}

function resetTimer() {
    timer.innerHTML = '00:00:00';
}
                             </script>
  </body>
</html>
